(()=>{"use strict";const e=window.wp.element,t=document.getElementById("toc");(0,e.createRoot)(t).render((0,e.createElement)((()=>{const t=document.querySelectorAll("#primary .wp-block-heading");t.forEach((e=>{if(!e.hasAttribute("id")){let t=e.innerText.trim().replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"");e.setAttribute("id",t)}}));const l=Array.from(t).map((e=>({id:e.id,text:e.innerText,level:Number(e.nodeName.charAt(1)),children:[]}))),n=t=>t.map((t=>(0,e.createElement)(e.Fragment,null,t.children.length>0?(0,e.createElement)("li",{key:t.id},(0,e.createElement)("a",{href:"#"+t.id},t.text),(0,e.createElement)("ol",null,n(t.children))):(0,e.createElement)("li",{key:t.id},(0,e.createElement)("a",{href:"#"+t.id},t.text))))),r=(e=>{e=e.reverse();let t=[];return e.forEach(((l,n)=>{if(2==l.level)t.push(l);else for(let t=n;t<e.length;t++)if(e[t].level<l.level){e[t].children.unshift(l);break}})),t.reverse()})(l);return(0,e.createElement)("ol",null,n(r))}),null)),jQuery(document).ready((function(e){e("#toc a").click((function(){let t=e(this).attr("href");e("#toc-modal").modal("hide"),e("html, body").animate({scrollTop:e(t).offset().top-20},500)})),e("#toc-modal").on("shown.bs.modal",(function(t){e("#toc-btn").one("focus",(function(t){e(this).blur()}))}))}));const l=document.getElementById("toc-btn-wrapper");if(l.classList.contains("toc-btn-sticky")){const e=l.getBoundingClientRect().top;let t=!1;document.addEventListener("scroll",(()=>{let n=window.scrollY;n>e&&!t?(l.classList.add("fixed-top"),t=!0):n<e&&t&&(l.classList.remove("fixed-top"),t=!1)}))}})();