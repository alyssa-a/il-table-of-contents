(()=>{"use strict";const e=window.wp.element,t=document.getElementById("toc");(0,e.createRoot)(t).render((0,e.createElement)((()=>{const t=document.querySelectorAll("#primary .wp-block-heading");t.forEach((e=>{if(!e.hasAttribute("id")){let t=e.innerText.trim().replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"");e.setAttribute("id",t)}}));const l=Array.from(t).map((e=>({id:e.id,text:e.innerText,level:Number(e.nodeName.charAt(1)),children:[]}))),o=t=>t.map((t=>(0,e.createElement)(e.Fragment,null,t.children.length>0?(0,e.createElement)("li",{key:t.id},(0,e.createElement)("a",{href:"#"+t.id},t.text),(0,e.createElement)("ol",null,o(t.children))):(0,e.createElement)("li",{key:t.id},(0,e.createElement)("a",{href:"#"+t.id},t.text))))),n=(e=>{e=e.reverse();let t=[];return e.forEach(((l,o)=>{if(2==l.level)t.push(l);else for(let t=o;t<e.length;t++)if(e[t].level<l.level){e[t].children.unshift(l);break}})),t.reverse()})(l);return(0,e.createElement)("ol",null,o(n))}),null)),document.documentElement.style.setProperty("--scrollbar-width",window.innerWidth-document.documentElement.offsetWidth+"px");const l=document.getElementById("il-toc-btn");l.onclick=()=>{const e=document.getElementById("il-toc-panel"),t=e.querySelector(".il-toc-panel-content"),o=e.querySelectorAll(".il-toc-close-btn"),n=e.querySelectorAll("#toc a"),r=!0===window.matchMedia("(prefers-reduced-motion: reduce)")||!0===window.matchMedia("(prefers-reduced-motion: reduce)").matches,c=()=>{r?e.style.display="none":(t.classList.remove("slide-in"),e.style.overflowY="hidden",setTimeout((()=>{e.style.overflowY="hidden",e.style.display="none"}),"300")),document.body.classList.remove("no-scroll"),e.setAttribute("aria-hidden","true"),e.removeAttribute("aria-modal"),e.removeAttribute("role"),l.focus()};document.body.classList.add("no-scroll"),document.body.addEventListener("touchmove",(e=>{e.preventDefault()})),e.style.display="block",e.style.overflowY="auto",e.scrollTop=0,e.setAttribute("role","dialog"),e.setAttribute("aria-modal","true"),e.removeAttribute("aria-hidden"),r||t.classList.add("slide-in"),o.forEach((e=>{e.onclick=()=>{c()}})),e.onclick=t=>{t.target==e&&c()},n.forEach((e=>{e.onclick=t=>{if(r)c();else{t.preventDefault();const l=e.getAttribute("href"),o=document.querySelector(l),n={hash:l};c(),o.scrollIntoView({behavior:"smooth"}),window.history.pushState(n,document.title,l)}}})),e.focus(),document.addEventListener("keydown",(t=>{"Escape"===t.key&&c(),t.shiftKey&&"Tab"===t.key?document.activeElement!==e&&document.activeElement!==o[0]||(t.preventDefault(),o[1].focus()):"Tab"===t.key&&document.activeElement===o[1]&&(t.preventDefault(),o[0].focus())}))};const o=document.getElementById("il-toc-btn-wrapper");if(o.classList.contains("toc-btn-sticky")){const e=o.getBoundingClientRect().top;let t=!1;document.addEventListener("scroll",(()=>{let l=window.scrollY;l>e&&!t?(o.classList.add("fixed-top"),t=!0):l<e&&t&&(o.classList.remove("fixed-top"),t=!1)}))}})();