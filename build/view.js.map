{"version":3,"file":"view.js","mappings":";;;;;AAAAA,MAAM,CAACC,QAAQ,CAAC,CAACC,KAAK,CAAC,UAAUC,CAAC,EAAG;EAClC,IAAIC,YAAY,GAAG,CAAC;EACtB,IAAIC,IAAI,GAAG,EAAE;EACbF,CAAC,CAAC,4BAA4B,CAAC,CAACG,IAAI,CAAC,YAAW;IAC/C,IAAIC,EAAE,GAAGJ,CAAC,CAAC,IAAI,CAAC,CAACK,IAAI,CAAC,IAAI,CAAC;IAC3B,IAAIC,IAAI,GAAGN,CAAC,CAAC,IAAI,CAAC,CAACM,IAAI,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;IAEhC,IAAGH,EAAE,IAAII,SAAS,EAAE;MACnBJ,EAAE,GAAGE,IAAI,CAACG,OAAO,CAAC,eAAe,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;MAC5DT,CAAC,CAAC,IAAI,CAAC,CAACK,IAAI,CAAC,IAAI,EAAED,EAAE,CAAC;IACvB;IAEA,IAAIM,EAAE,GAAG,gBAAgB,GAAGN,EAAE,GAAG,IAAI,GAAGE,IAAI,GAAG,WAAW;IAE1D,IAAIK,KAAK,GAAGC,QAAQ,CAAC,IAAI,CAACC,OAAO,CAACC,SAAS,CAAC,CAAC,CAAC,CAAC;IAE/C,IAAIH,KAAK,GAAGV,YAAY,EAAE;MAAE;MAC3BC,IAAI,GAAGA,IAAI,CAACa,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;MACvBb,IAAI,IAAI,MAAM,GAAGQ,EAAE;IACpB,CAAC,MAAM,IAAIC,KAAK,GAAGV,YAAY,EAAE;MAAE;MAClC,IAAIe,IAAI,GAAGf,YAAY,GAAGU,KAAK;MAC/B,KAAK,IAAIM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,IAAI,EAAEC,CAAC,EAAE,EAAE;QAC9Bf,IAAI,IAAI,YAAY;MACrB;MACAA,IAAI,IAAIQ,EAAE;IACX,CAAC,MAAM;MACNR,IAAI,IAAIQ,EAAE;IACX;IACAT,YAAY,GAAGU,KAAK;EACrB,CAAC,CAAC;EAEFX,CAAC,CAAC,WAAW,CAAC,CAACkB,MAAM,CAAChB,IAAI,CAAC;EAE3BF,CAAC,CAAC,cAAc,CAAC;EAEjBA,CAAC,CAAC,aAAa,CAAC,CAACmB,KAAK,CAAC,YAAU;IAChC,IAAIf,EAAE,GAAGJ,CAAC,CAAC,IAAI,CAAC,CAACK,IAAI,CAAC,MAAM,CAAC;IAC7BL,CAAC,CAAC,YAAY,CAAC,CAACoB,KAAK,CAAC,MAAM,CAAC;IAC7BpB,CAAC,CAAC,UAAU,CAAC,CAACqB,IAAI,CAAC,CAAC;IACpBrB,CAAC,CAAC,YAAY,CAAC,CAACsB,OAAO,CAAC;MACvBC,SAAS,EAAEvB,CAAC,CAACI,EAAE,CAAC,CAACoB,MAAM,CAAC,CAAC,CAACC,GAAG,GAAG;IACjC,CAAC,EAAE,GAAG,CAAC;EACR,CAAC,CAAC;EAEFzB,CAAC,CAAC,YAAY,CAAC,CAAC0B,EAAE,CAAC,gBAAgB,EAAE,UAASC,CAAC,EAAC;IAC/C3B,CAAC,CAAC,UAAU,CAAC,CAAC4B,GAAG,CAAC,OAAO,EAAE,UAASD,CAAC,EAAC;MAAC3B,CAAC,CAAC,IAAI,CAAC,CAACqB,IAAI,CAAC,CAAC;IAAC,CAAC,CAAC;EACzD,CAAC,CAAC;AAED,CAAC,CAAC,C","sources":["webpack://il-table-of-contents/./src/view.js"],"sourcesContent":["jQuery(document).ready(function( $ ) {\r\n  \tlet currentDepth = 2;\r\n\tlet list = '';\r\n\t$('#primary .wp-block-heading').each(function() {\r\n\t\tlet id = $(this).attr('id');\r\n\t\tlet text = $(this).text().trim();\r\n\t\t\r\n\t\tif(id == undefined) {\r\n\t\t\tid = text.replace(/[^a-z0-9\\s]/gi, '').replace(/[_\\s]/g, '')\r\n\t\t\t$(this).attr('id', id);\r\n\t\t}\r\n\t\t\r\n\t\tlet li = '<li><a href=\"#' + id + '\">' + text + '</a></li>';\r\n\r\n\t\tlet depth = parseInt(this.tagName.substring(1));\r\n\t\t\r\n\t\tif (depth > currentDepth) { // going into nested headings\r\n\t\t\tlist = list.slice(0,-5);\r\n\t\t\tlist += '<ol>' + li;\r\n\t\t} else if (depth < currentDepth) { // coming out of nested headings\r\n\t\t\tlet diff = currentDepth - depth;\r\n\t\t\tfor (let i = 0; i < diff; i++) {\r\n\t\t\t\tlist += '</ol></li>';\r\n\t\t\t}\r\n\t\t\tlist += li;\r\n\t\t} else {\r\n\t\t\tlist += li;\r\n\t\t}\r\n\t\tcurrentDepth = depth;\r\n\t});\r\n\r\n\t$('#toc-list').append(list);\r\n\r\n\t$('#toc-list li')\r\n\t\r\n\t$('#toc-list a').click(function(){\r\n\t\tlet id = $(this).attr('href');\r\n\t\t$('#toc-modal').modal('hide');\r\n\t\t$('#toc-btn').blur();\r\n\t\t$('html, body').animate({\r\n\t\t\tscrollTop: $(id).offset().top - 20\r\n\t\t}, 500);\r\n\t});\r\n\t\r\n\t$('#toc-modal').on('shown.bs.modal', function(e){\r\n\t\t$('#toc-btn').one('focus', function(e){$(this).blur();});\r\n\t});\r\n\t\r\n  });\r\n\r\n\r\n"],"names":["jQuery","document","ready","$","currentDepth","list","each","id","attr","text","trim","undefined","replace","li","depth","parseInt","tagName","substring","slice","diff","i","append","click","modal","blur","animate","scrollTop","offset","top","on","e","one"],"sourceRoot":""}